<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog & Teachings | Nehemia Ministry Kenya</title>
    <meta name="description" content="Read inspiring articles, biblical teachings, and spiritual insights from Nehemia Ministry Kenya. Grow in your faith through our collection of blogs and devotionals.">
    <meta name="keywords" content="Christian Blog, Bible Teachings, Spiritual Articles, Devotionals, Faith Articles, Biblical Insights, Pastor David Walukhu Blog, Christian Living">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Dancing+Script:wght@700&family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="assets/logo.png">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }
        .font-lora { font-family: 'Lora', serif; }
        .font-dancing-script { font-family: 'Dancing Script', cursive; }
        .font-eb-garamond { font-family: 'EB Garamond', serif; }
        
        .blog-card {
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 1px solid #e2e8f0;
        }
        
        .blog-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .hero-blog {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #60a5fa 100%);
        }
        
        .featured-card {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border: 2px solid #0ea5e9;
        }
        
        .category-tag {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
        }
        
        .read-time {
            color: #6b7280;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <img src="assets/logo.png" alt="Nehemia Ministry Logo" class="h-10 w-auto">
                    <div>
                        <h1 class="text-xl font-bold text-gray-800 font-lora">Nehemia Ministry Kenya</h1>
                        <p class="text-sm text-gray-600">Rebuilding Lives, Restoring Hope</p>
                    </div>
                </div>
                
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="text-gray-700 hover:text-orange-600 transition-colors duration-200">Home</a>
                    <a href="about.html" class="text-gray-700 hover:text-orange-600 transition-colors duration-200">About</a>
                    <a href="sermons.html" class="text-gray-700 hover:text-orange-600 transition-colors duration-200">Sermons</a>
                    <a href="events.html" class="text-gray-700 hover:text-orange-600 transition-colors duration-200">Events</a>
                    <a href="blog.html" class="text-orange-600 font-semibold">Blog</a>
                    <a href="prayer-wall.html" class="text-gray-700 hover:text-orange-600 transition-colors duration-200">Prayer Wall</a>
                    <a href="give.html" class="text-gray-700 hover:text-orange-600 transition-colors duration-200">Give</a>
                    <a href="contact.html" class="text-gray-700 hover:text-orange-600 transition-colors duration-200">Contact</a>
                </div>

                <!-- Auth buttons -->
                <div id="auth-buttons" class="hidden md:flex items-center space-x-4">
                    <button onclick="showLoginModal()" class="text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200">Login</button>
                    <button onclick="showRegisterModal()" class="bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg transition-colors duration-200">Join Us</button>
                </div>

                <!-- User menu (hidden by default) -->
                <div id="user-menu" class="hidden items-center space-x-4">
                    <div class="text-right">
                        <div class="user-name font-semibold text-gray-800"></div>
                        <div class="user-role text-xs text-gray-600"></div>
                    </div>
                    <div class="relative group">
                        <button class="text-gray-700 hover:text-orange-600 transition-colors duration-200">
                            <i class="fas fa-user-circle text-2xl"></i>
                        </button>
                        <div class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
                            <a href="#" class="dashboard-link block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Dashboard</a>
                            <button onclick="showProfileModal()" class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Profile</button>
                            <button onclick="authManager.logout()" class="w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100">Logout</button>
                        </div>
                    </div>
                </div>

                <!-- Mobile menu button -->
                <button class="md:hidden text-gray-700" onclick="toggleMobileMenu()">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-blog text-white py-20">
        <div class="container mx-auto px-6 text-center">
            <h1 class="text-5xl font-bold font-lora mb-6">Blog & Teachings</h1>
            <p class="text-xl mb-8 max-w-3xl mx-auto">
                Discover biblical insights, spiritual wisdom, and inspiring articles that will strengthen your walk with God and deepen your understanding of His Word.
            </p>
            <div class="flex justify-center space-x-4">
                <button onclick="scrollToLatest()" class="bg-orange-600 hover:bg-orange-700 text-white px-8 py-3 rounded-lg transition-colors duration-200">
                    <i class="fas fa-newspaper mr-2"></i>Latest Articles
                </button>
                <button onclick="subscribeNewsletter()" class="border-2 border-white text-white hover:bg-white hover:text-blue-600 px-8 py-3 rounded-lg transition-colors duration-200">
                    <i class="fas fa-envelope mr-2"></i>Subscribe
                </button>
            </div>
        </div>
    </section>

    <!-- Featured Article -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-900 font-lora mb-4">Featured Article</h2>
                <p class="text-gray-600 text-lg">This week's highlighted teaching from Pastor David</p>
            </div>
            
            <div class="max-w-4xl mx-auto">
                <div class="featured-card rounded-xl p-8">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                        <div>
                            <span class="category-tag text-white px-4 py-2 rounded-full text-sm font-semibold">Spiritual Growth</span>
                            <h3 class="text-3xl font-bold text-gray-900 font-lora mt-4 mb-4">Walking in Your God-Given Purpose</h3>
                            <p class="text-gray-600 mb-6">Every believer has a unique calling and purpose that God has designed specifically for them. In this powerful article, we explore how to discover, understand, and walk confidently in the divine destiny that God has prepared for your life.</p>
                            
                            <div class="flex items-center text-gray-500 text-sm mb-6">
                                <i class="fas fa-user mr-2"></i>
                                <span class="mr-6">Pastor David Walukhu</span>
                                <i class="fas fa-calendar mr-2"></i>
                                <span class="mr-6">August 4, 2024</span>
                                <i class="fas fa-clock mr-2"></i>
                                <span>8 min read</span>
                            </div>
                            
                            <div class="flex space-x-4">
                                <button onclick="readFeaturedArticle()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors duration-200">
                                    <i class="fas fa-book-open mr-2"></i>Read Article
                                </button>
                                <button onclick="shareArticle('featured')" class="border border-gray-300 text-gray-700 hover:bg-gray-50 px-6 py-3 rounded-lg transition-colors duration-200">
                                    <i class="fas fa-share mr-2"></i>Share
                                </button>
                            </div>
                        </div>
                        
                        <div class="relative">
                            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Featured Article" class="w-full h-64 object-cover rounded-lg">
                            <div class="absolute top-4 right-4 bg-white rounded-full p-2 shadow-lg">
                                <button onclick="saveArticle('featured')" class="text-gray-600 hover:text-red-500 transition-colors duration-200">
                                    <i class="fas fa-heart"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories Filter -->
    <section class="py-8 bg-gray-100">
        <div class="container mx-auto px-6">
            <div class="flex flex-wrap justify-center gap-4">
                <button onclick="filterByCategory('all')" class="category-filter active bg-blue-600 text-white px-6 py-2 rounded-full transition-colors duration-200">
                    All Articles
                </button>
                <button onclick="filterByCategory('spiritual-growth')" class="category-filter bg-white text-gray-700 hover:bg-gray-50 px-6 py-2 rounded-full border transition-colors duration-200">
                    Spiritual Growth
                </button>
                <button onclick="filterByCategory('prayer')" class="category-filter bg-white text-gray-700 hover:bg-gray-50 px-6 py-2 rounded-full border transition-colors duration-200">
                    Prayer & Worship
                </button>
                <button onclick="filterByCategory('family')" class="category-filter bg-white text-gray-700 hover:bg-gray-50 px-6 py-2 rounded-full border transition-colors duration-200">
                    Family & Relationships
                </button>
                <button onclick="filterByCategory('ministry')" class="category-filter bg-white text-gray-700 hover:bg-gray-50 px-6 py-2 rounded-full border transition-colors duration-200">
                    Ministry & Leadership
                </button>
                <button onclick="filterByCategory('testimonies')" class="category-filter bg-white text-gray-700 hover:bg-gray-50 px-6 py-2 rounded-full border transition-colors duration-200">
                    Testimonies
                </button>
            </div>
        </div>
    </section>

    <!-- Latest Articles -->
    <section id="latest" class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-900 font-lora mb-4">Latest Articles</h2>
                <p class="text-gray-600 text-lg">Fresh insights and teachings to inspire your faith journey</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="articlesGrid">
                <!-- Articles will be loaded here -->
            </div>
            
            <div class="text-center mt-12">
                <button onclick="loadMoreArticles()" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg transition-colors duration-200">
                    <i class="fas fa-plus mr-2"></i>Load More Articles
                </button>
            </div>
        </div>
    </section>

    <!-- Newsletter Subscription -->
    <section class="py-16 bg-gray-100">
        <div class="container mx-auto px-6">
            <div class="max-w-2xl mx-auto text-center">
                <h2 class="text-4xl font-bold text-gray-900 font-lora mb-4">Stay Connected</h2>
                <p class="text-gray-600 text-lg mb-8">Subscribe to our newsletter and never miss our latest articles, devotionals, and ministry updates.</p>
                
                <div class="bg-white rounded-xl p-8 shadow-lg">
                    <form id="newsletterForm" class="flex flex-col md:flex-row gap-4">
                        <input type="email" id="newsletterEmail" placeholder="Enter your email address" required class="flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <button type="submit" class="bg-orange-600 hover:bg-orange-700 text-white px-8 py-3 rounded-lg transition-colors duration-200">
                            <i class="fas fa-paper-plane mr-2"></i>Subscribe
                        </button>
                    </form>
                    <p class="text-gray-500 text-sm mt-4">We respect your privacy. Unsubscribe anytime.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Popular Tags -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-900 font-lora mb-4">Popular Topics</h2>
                <p class="text-gray-600 text-lg">Explore articles by popular tags</p>
            </div>
            
            <div class="flex flex-wrap justify-center gap-3">
                <span class="bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-sm cursor-pointer hover:bg-blue-200 transition-colors duration-200" onclick="searchByTag('faith')">Faith</span>
                <span class="bg-green-100 text-green-800 px-4 py-2 rounded-full text-sm cursor-pointer hover:bg-green-200 transition-colors duration-200" onclick="searchByTag('prayer')">Prayer</span>
                <span class="bg-purple-100 text-purple-800 px-4 py-2 rounded-full text-sm cursor-pointer hover:bg-purple-200 transition-colors duration-200" onclick="searchByTag('worship')">Worship</span>
                <span class="bg-orange-100 text-orange-800 px-4 py-2 rounded-full text-sm cursor-pointer hover:bg-orange-200 transition-colors duration-200" onclick="searchByTag('purpose')">Purpose</span>
                <span class="bg-red-100 text-red-800 px-4 py-2 rounded-full text-sm cursor-pointer hover:bg-red-200 transition-colors duration-200" onclick="searchByTag('healing')">Healing</span>
                <span class="bg-indigo-100 text-indigo-800 px-4 py-2 rounded-full text-sm cursor-pointer hover:bg-indigo-200 transition-colors duration-200" onclick="searchByTag('bible-study')">Bible Study</span>
                <span class="bg-pink-100 text-pink-800 px-4 py-2 rounded-full text-sm cursor-pointer hover:bg-pink-200 transition-colors duration-200" onclick="searchByTag('testimony')">Testimony</span>
                <span class="bg-yellow-100 text-yellow-800 px-4 py-2 rounded-full text-sm cursor-pointer hover:bg-yellow-200 transition-colors duration-200" onclick="searchByTag('leadership')">Leadership</span>
            </div>
        </div>
    </section>

    <!-- Search Section -->
    <section class="py-16 bg-gray-50">
        <div class="container mx-auto px-6">
            <div class="max-w-2xl mx-auto text-center">
                <h2 class="text-4xl font-bold text-gray-900 font-lora mb-4">Search Articles</h2>
                <p class="text-gray-600 text-lg mb-8">Find specific topics or teachings</p>
                
                <div class="bg-white rounded-xl p-6 shadow-lg">
                    <div class="flex flex-col md:flex-row gap-4">
                        <input type="text" id="searchInput" placeholder="Search articles, topics, or keywords..." class="flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <button onclick="searchArticles()" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg transition-colors duration-200">
                            <i class="fas fa-search mr-2"></i>Search
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-3 mb-6">
                        <img src="assets/logo.png" alt="Nehemia Ministry Logo" class="h-10 w-auto">
                        <div>
                            <h3 class="text-xl font-bold font-lora">Nehemia Ministry</h3>
                            <p class="text-gray-400 text-sm">Kenya</p>
                        </div>
                    </div>
                    <p class="text-gray-400 mb-4">Rebuilding lives and restoring hope through the power of God's Word.</p>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-gray-400 hover:text-white transition-colors duration-200">Home</a></li>
                        <li><a href="about.html" class="text-gray-400 hover:text-white transition-colors duration-200">About Us</a></li>
                        <li><a href="sermons.html" class="text-gray-400 hover:text-white transition-colors duration-200">Sermons</a></li>
                        <li><a href="events.html" class="text-gray-400 hover:text-white transition-colors duration-200">Events</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">Resources</h4>
                    <ul class="space-y-2">
                        <li><a href="blog.html" class="text-gray-400 hover:text-white transition-colors duration-200">Blog</a></li>
                        <li><a href="prayer-wall.html" class="text-gray-400 hover:text-white transition-colors duration-200">Prayer Wall</a></li>
                        <li><a href="ministries.html" class="text-gray-400 hover:text-white transition-colors duration-200">Ministries</a></li>
                        <li><a href="give.html" class="text-gray-400 hover:text-white transition-colors duration-200">Give</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">Contact Info</h4>
                    <div class="space-y-2 text-gray-400">
                        <p><i class="fas fa-map-marker-alt mr-2"></i>Mukhonje, Kakamega County</p>
                        <p><i class="fas fa-phone mr-2"></i>+254 XXX XXX XXX</p>
                        <p><i class="fas fa-envelope mr-2"></i>info@nehemiaministry.org</p>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2024 Nehemia Ministry Kenya. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Include authentication JavaScript -->
    <script src="assets/js/auth.js"></script>
    
    <script>
        // Mock blog data
        const mockArticles = [
            {
                id: 1,
                title: "The Power of Persistent Prayer",
                author: "Pastor David Walukhu",
                date: "2024-08-01",
                category: "prayer",
                readTime: "6 min",
                excerpt: "Discover how consistent prayer can transform your spiritual life and bring breakthrough in every area.",
                content: "Lorem ipsum dolor sit amet, consectetur adipiscing elit...",
                image: "https://images.unsplash.com/photo-1434030216411-0b793f4b4173?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                tags: ["prayer", "faith", "breakthrough"]
            },
            {
                id: 2,
                title: "Building Strong Families God's Way",
                author: "Rev. Selina Walukhu",
                date: "2024-07-28",
                category: "family",
                readTime: "8 min",
                excerpt: "Biblical principles for creating healthy, loving relationships within your family unit.",
                content: "Lorem ipsum dolor sit amet, consectetur adipiscing elit...",
                image: "https://images.unsplash.com/photo-1511895426328-dc8714191300?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                tags: ["family", "relationships", "marriage"]
            },
            {
                id: 3,
                title: "Overcoming Fear with Faith",
                author: "Pastor David Walukhu",
                date: "2024-07-25",
                category: "spiritual-growth",
                readTime: "5 min",
                excerpt: "Learn how to overcome fear and anxiety by anchoring your faith in God's promises.",
                content: "Lorem ipsum dolor sit amet, consectetur adipiscing elit...",
                image: "https://images.unsplash.com/photo-1544027993-37dbfe43562a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                tags: ["faith", "fear", "spiritual-growth"]
            },
            {
                id: 4,
                title: "The Joy of Serving Others",
                author: "Ministry Team",
                date: "2024-07-20",
                category: "ministry",
                readTime: "4 min",
                excerpt: "Experience the fulfillment that comes from serving God by serving others in your community.",
                content: "Lorem ipsum dolor sit amet, consectetur adipiscing elit...",
                image: "https://images.unsplash.com/photo-1469571486292-0ba58a3f068b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                tags: ["service", "ministry", "community"]
            },
            {
                id: 5,
                title: "Testimony: From Broken to Beautiful",
                author: "Sarah Wanjiku",
                date: "2024-07-15",
                category: "testimonies",
                readTime: "7 min",
                excerpt: "A powerful testimony of God's healing and restoration in one woman's life.",
                content: "Lorem ipsum dolor sit amet, consectetur adipiscing elit...",
                image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                tags: ["testimony", "healing", "restoration"]
            },
            {
                id: 6,
                title: "Leading with Humility",
                author: "Pastor David Walukhu",
                date: "2024-07-10",
                category: "ministry",
                readTime: "6 min",
                excerpt: "The biblical model of leadership through servant-hood and humility.",
                content: "Lorem ipsum dolor sit amet, consectetur adipiscing elit...",
                image: "https://images.unsplash.com/photo-1529156069898-49953e39b3ac?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                tags: ["leadership", "humility", "ministry"]
            }
        ];

        let filteredArticles = [...mockArticles];
        let currentCategory = 'all';

        // Load articles on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadArticles();
        });

        function loadArticles() {
            const grid = document.getElementById('articlesGrid');
            grid.innerHTML = '';

            filteredArticles.forEach(article => {
                const articleCard = createArticleCard(article);
                grid.appendChild(articleCard);
            });
        }

        function createArticleCard(article) {
            const div = document.createElement('div');
            div.className = 'blog-card rounded-xl overflow-hidden';
            
            div.innerHTML = `
                <div class="relative">
                    <img src="${article.image}" alt="${article.title}" class="w-full h-48 object-cover">
                    <div class="absolute top-4 left-4">
                        <span class="category-tag text-white px-3 py-1 rounded-full text-sm font-semibold">${getCategoryName(article.category)}</span>
                    </div>
                    <div class="absolute top-4 right-4">
                        <button onclick="saveArticle(${article.id})" class="bg-white rounded-full p-2 shadow-lg text-gray-600 hover:text-red-500 transition-colors duration-200">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                </div>
                <div class="p-6">
                    <h3 class="text-xl font-bold text-gray-900 font-lora mb-2">${article.title}</h3>
                    <p class="text-gray-600 mb-4">${article.excerpt}</p>
                    <div class="flex items-center justify-between text-sm text-gray-500 mb-4">
                        <span><i class="fas fa-user mr-1"></i>${article.author}</span>
                        <span><i class="fas fa-calendar mr-1"></i>${formatDate(article.date)}</span>
                        <span class="read-time"><i class="fas fa-clock mr-1"></i>${article.readTime}</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <button onclick="readArticle(${article.id})" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm transition-colors duration-200">
                            <i class="fas fa-book-open mr-1"></i>Read More
                        </button>
                        <button onclick="shareArticle(${article.id})" class="border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2 rounded-lg text-sm transition-colors duration-200">
                            <i class="fas fa-share"></i>
                        </button>
                    </div>
                </div>
            `;
            
            return div;
        }

        function filterByCategory(category) {
            currentCategory = category;
            
            // Update active button
            document.querySelectorAll('.category-filter').forEach(btn => {
                btn.classList.remove('active', 'bg-blue-600', 'text-white');
                btn.classList.add('bg-white', 'text-gray-700', 'border');
            });
            
            event.target.classList.add('active', 'bg-blue-600', 'text-white');
            event.target.classList.remove('bg-white', 'text-gray-700', 'border');
            
            // Filter articles
            if (category === 'all') {
                filteredArticles = [...mockArticles];
            } else {
                filteredArticles = mockArticles.filter(article => article.category === category);
            }
            
            loadArticles();
            
            if (window.Utils) {
                Utils.showNotification(`Showing ${filteredArticles.length} articles`, 'success');
            }
        }

        function getCategoryName(category) {
            const categories = {
                'spiritual-growth': 'Spiritual Growth',
                'prayer': 'Prayer & Worship',
                'family': 'Family & Relationships',
                'ministry': 'Ministry & Leadership',
                'testimonies': 'Testimonies'
            };
            return categories[category] || category;
        }

        function readArticle(articleId) {
            if (window.Utils) {
                Utils.showNotification('Opening article...', 'info');
            }
        }

        function readFeaturedArticle() {
            readArticle(1);
        }

        function saveArticle(articleId) {
            if (window.Utils) {
                Utils.showNotification('Article saved to favorites', 'success');
            }
        }

        function shareArticle(articleId) {
            if (navigator.share) {
                navigator.share({
                    title: 'Check out this article from Nehemia Ministry',
                    url: window.location.href
                });
            } else if (window.Utils) {
                Utils.showNotification('Share link copied to clipboard', 'success');
            }
        }

        function searchArticles() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            if (!searchTerm) {
                filteredArticles = [...mockArticles];
            } else {
                filteredArticles = mockArticles.filter(article => 
                    article.title.toLowerCase().includes(searchTerm) ||
                    article.excerpt.toLowerCase().includes(searchTerm) ||
                    article.tags.some(tag => tag.toLowerCase().includes(searchTerm))
                );
            }
            
            loadArticles();
            
            if (window.Utils) {
                Utils.showNotification(`Found ${filteredArticles.length} articles`, 'success');
            }
        }

        function searchByTag(tag) {
            document.getElementById('searchInput').value = tag;
            searchArticles();
        }

        function loadMoreArticles() {
            if (window.Utils) {
                Utils.showNotification('Loading more articles...', 'info');
            }
        }

        function subscribeNewsletter() {
            document.getElementById('newsletterEmail').focus();
        }

        function scrollToLatest() {
            document.getElementById('latest').scrollIntoView({ behavior: 'smooth' });
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric' 
            });
        }

        // Newsletter form handling
        document.getElementById('newsletterForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('newsletterEmail').value;
            
            if (window.Utils) {
                Utils.showNotification(`Successfully subscribed ${email} to our newsletter!`, 'success');
            }
            
            document.getElementById('newsletterEmail').value = '';
        });

        // Search on Enter key
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchArticles();
            }
        });

        // Mobile menu toggle
        function toggleMobileMenu() {
            console.log('Mobile menu toggled');
        }
    </script>
</body>
</html>
